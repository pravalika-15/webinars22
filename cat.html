<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

    <script src="https://kit.fontawesome.com/248cf7af75.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./assets/css/home.css">
</head>
<body>
    <section style="overflow-x: hidden;">
        <div class=" card border-0 image">
            <!-- Card image -->
            <img class="card-img-top" src="./assets/img/Rectangle 507.png" alt="Card image cap">
            
            <!-- Card content -->
            <div class="card-body rgba-black-light p-2 my-auto">
                <h2>Discover <span id="blue"> Webinars </span> around</h2>
                <h2>the <span id="blue">World</span>.</h2>
                <p>Don't just. Don't just <span id="blue">LEARN, EXPERIENCE</span>.</p>
              </div>
            </div>
            
        </div>



        <div class="row pb-4 pt-3">
            <div class="col text-center">
                <a href="" class="btn py-2 px-4 button1">View More</a>
            </div>
        </div>

        <div class="row">
            <div class="col p-5">
                <h2><b>Trending</b></h2>
            </div>
        </div>

        

        <div class="row row3" id="tls">
            
 
        </div>

        <div class="row pb-4 pt-3">
            <div class="col text-center">
                <a href="/web-development.html" class="btn py-2 px-4 button1">View More</a>
            </div>
        </div>

 
          <div class="container py-5" id="container3">
              <div class="row py-3 px-5">
                  <div class="col-lg-6 col-md-6 col-sm-6">
                    <h3>Subscribe to Our Newsletter</h3>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-6 my-auto">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Enter your email" aria-label="Enter your email" aria-describedby="basic-addon2">
                        <span class="" id="basic-addon2"><button class="btn btn-primary">Subscribe</button></span>
                    </div>
                  </div>
              </div>
          </div>




    </section>


    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>


    <script>
        firebase.initializeApp({
        apiKey: 'AIzaSyBhvc1CZL3zMriXg_7TG2ISrxV8NB4qaK8',
        authDomain: 'webinars-skygoal.firebaseapp.com',
        projectId: 'webinars-skygoal'
      });
      var db = firebase.firestore();
  
       
  
      // QUERY GRABBING 
      var url_string = window.location.href;
      var url = new URL(url_string);
      var docss = url.searchParams.get("id");
      var tiTle = url.searchParams.get("title");


      console.log(tiTle);
      console.log(docss);
  
  
    //   var docRef = db.collection("webinar").doc(docss);
  
//   docRef.get().then(async(doc) => {
//       if (doc.exists) {
//           console.log("Document data:", doc.data());
//           var data = doc.data()
  
//           document.getElementById("1sttitle").textContent=data.Title;
//           document.getElementById("desc").textContent=data.Desc;
//           document.getElementById("author").textContent=data.Author;

//           var d = data.lastdate;
//           var mod = (new Date(d*1000).toUTCString());
//         document.getElementById("updated_date").textContent=mod;


//         var url = data.author_img;
//         var img = document.getElementById('author_img');
//         img.src = url;


//         var url = data.yt_url;
//         var নাগেশ = document.getElementById('yt');
//         নাগেশ.src = url;


    
  
//       } else {
//           // doc.data() will be undefined in this case
//           console.log("No such document!");
//       }
//       }).catch((error) => {
//           console.log("Error getting document:", error);
//       });

       

      var po = document.getElementById("tls")

      var citiesRef = db.collection("webinar");
        var query = citiesRef.where("cat_id", "==", docss);
        console.log("working1")


     query.get().then((querySnapshot) => {
        //  console.log(querySnapshot)
        querySnapshot.forEach((doc) => {
            // doc.data() is never undefined for query doc snapshots


            // console.log(doc.id, " => ", doc.data());
            var dump = doc.data()

            var paint = `<div class="col-lg-4 col-md-4 col-sm-12 px-4">
                <div class="card border-0" style="max-width: 20rem;">

                    <!-- Card image -->
                    <img class="card-img-top" src="${dump.author_img}" alt="Card image cap">
            
                    <!-- Card content -->
                    <div class="card-body text-white rgba-black-light p-2">
                      <h4>${dump.Title}</h4>
                      <h6>${dump.Desc}</h6>
                      <div class="row pt-3">
                          <div class="col-2">
                            <img src="./assets/img/121 2.png" class="img-fluid">
                          </div>
                          <div class="col-5 ml-0 ">
                              <h6>By: ${dump.Author}</h6>
                              <p>100+ Registrations</p>
                        </div>
                        <div class="col-4 ml-3">
                            <a href="./web-development.html?id=${doc.id}" class="btn py-2 px-4 button1">View</a>
                        </div>
                      </div>
                    </div>
            
                </div>
            </div>`

            po.innerHTML+= paint;

            console.log("working3")


        });
    })
    .catch((error) => {
        console.log("Error getting documents: ", error);
    });

    console.log("working4")

  
     
      
  
  
  // });




  



    </script>
</body>
</html>